---
title: "Настройка Софтфона"
og:description: "Подробное руководство по настройке режима Софтфон в SIP.TG, включая управление SIP-аккаунтами и их настройками."
---

## Роли владельца и пользователя SIP-аккаунта

**Владелец SIP-аккаунта** — пользователь Telegram, создающий SIP-аккаунт в боте [@siptg_bot](https://t.me/siptg_bot?start=utm_docs). Владелец имеет полный контроль над созданием, удалением и изменением настроек SIP-аккаунтов, а также может назначать аккаунты другим пользователям.

**Пользователь SIP-аккаунта** — человек, которому владелец назначил SIP-аккаунт. Он может использовать аккаунт для совершения и приёма звонков, но не может изменять настройки самого аккаунта.

<Warning>
  Подписка для софтфона должна подключаться на Telegram-аккаунт **владельца**. Подписка пользователя SIP-аккаунта не распространяется на SIP-аккаунты, которые принадлежат другим владельцам!  
</Warning>

## Принцип взаимодействия с кнопками настроек

Большинство настроек отображаются прямо на кнопках в виде текущих значений. Чтобы изменить эти настройки, достаточно нажать соответствующую кнопку и ввести новое значение по запросу бота.

Однако некоторые кнопки работают по-другому:

- **Worker:** при нажатии появляется список доступных Worker-серверов. Выберите нужный сервер из списка, чтобы его назначить.
- **Кнопки с флажками:** такие как «Запись разговоров», работают как переключатели. Одно нажатие активирует или деактивирует опцию.
- **Чат для записей:** при первом нажатии появится дополнительная кнопка для выбора чата. Нажав на эту кнопку, вы увидите список чатов и каналов, доступных для выбора. Выберите подходящий чат, чтобы записи разговоров сохранялись именно там.
- **Пользователь:** при первом нажатии появится дополнительная кнопка для выбора пользователя. Нажав на эту кнопку, вы сможете выбрать другого пользователя Telegram, которому будет назначен этот SIP-аккаунт.
- **Протокол соединения (UDP/TCP/TLS):** при каждом нажатии происходит переключение на следующий доступный протокол.

## Пошаговое добавление SIP-аккаунта

<Steps>
  <Step title="Начало работы с ботом">
    - Запустите бота [@siptg_bot](https://t.me/siptg_bot?start=utm_docs).
    - Перейдите в раздел `/softphone`.
    - Нажмите кнопку **«Новый»** для создания нового SIP-аккаунта.
  </Step>
  <Step title="Ввод параметров SIP-аккаунта">
    - Введите логин и пароль, полученные от вашего оператора IP-телефонии или SIP-АТС.
    - Укажите домен (адрес SIP-сервера).
    - При необходимости укажите отдельный Registrar (сервер регистрации).
    - Заготовленные настройки оператора IP-телефонии также можно выбрать из каталога, доступ к которому возможен по кнопке **«Шаблоны настроек»**.
  </Step>
  <Step title="Дополнительные настройки">
    - Выберите транспортный протокол: UDP, TCP или TLS.
    - Выберите и настройте аудиокодеки, поддерживаемые вашим провайдером.
    - Настройте метод передачи DTMF-сигналов (RFC2833, INFO, inband).
    - Задайте правила преобразования номеров для исходящих звонков.
  </Step>
  <Step title="Назначение пользователя и включение записи">
    - Назначьте SIP-аккаунт другому пользователю Telegram, если требуется.
    - Активируйте автоматическую запись звонков и выберите чат или канал Telegram для хранения записей (опционально).
  </Step>
</Steps>

Некотороые настройки вступают в силу после нажатия кнопки **«Применить»**, либо по истечение 5 минут. После выполнения шагов аккаунт станет активным и готовым к работе.

## Доступные настройки

<AccordionGroup>
  <Accordion title="Аудиокодеки">
    Выбор кодеков влияет на качество и совместимость голосовой связи. Поддерживаются кодеки Opus, alaw, mulaw, GSM и другие. Подробнее см. в разделе [«Настройка кодеков»](/docs2/softphone/recording).
  </Accordion>
  <Accordion title="Методы передачи DTMF">
    DTMF необходим для взаимодействия с голосовым меню. Доступны методы RFC2833 (рекомендуется), INFO и inband.
  </Accordion>
  <Accordion title="Правила преобразования номеров">
    Позволяют задать формат набора номера для совместимости с оператором или АТС. Подробнее в разделе [«Правила преобразования номеров»](/docs2/softphone/settings).
  </Accordion>
  <Accordion title="Запись разговоров">
    Можно активировать или деактивировать автоматическую запись звонков, а также выбрать отдельный чат или канал для сохранения аудиозаписей.
  </Accordion>
  <Accordion title="Назначение пользователя">
    Позволяет назначать SIP-аккаунты другим пользователям Telegram, предоставляя им возможность использовать аккаунты для звонков без доступа к настройкам.
  </Accordion>
</AccordionGroup>

## Особенности режима Софтфон

- Входящие звонки отображаются в виде входящего звонка от аккаунта [@siptg](https://t.me/siptg).
- Для исходящего звонка отправьте номер телефона в чат с [@siptg](https://t.me/siptg).
- Можно использовать одновременно несколько SIP-аккаунтов.
- Автоматическая запись звонков сохраняется в указанном чате Telegram и доступна сразу на всех ваших устройствах без ограничений по сроку хранения.

<Tip>
  Если возникли проблемы или ошибки, воспользуйтесь разделом [«Отладка и проблемы»](/docs2/softphone/problems) для быстрого решения.
</Tip>